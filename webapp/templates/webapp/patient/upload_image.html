{% extends 'webapp/base.html' %}
{% load static%}
{% load crispy_forms_tags %}

{% block title %}Upload Pictures of Injury{% endblock title %}

{% block extracss %}
  <link rel="stylesheet" href="{% static 'css/patient_records.css' %}">
  <link rel="stylesheet" href="{% static 'css/media_tables.css' %}">
{% endblock extracss %}

{% block content %}
<div class="main-grid-container">
	{% include 'webapp/nav_sidebar.html' %}
	<div class="main-content-area">
		<h1 class ="upload-h1" style ="font-size: 470%;">Upload Pictures of Injury</h1>
    <hr><br>
    <form class ="upload-form" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form|crispy }}
        <br>
        <div style="text-align: center;">
          <button class="button-primary button-text" type="submit">
            <svg xmlns="http://www.w3.org/2000/svg" width="10%" height="10%" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
              <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
              <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
            </svg>
            Upload Image</button>
        </div>
    </form>
    <br><hr>
    <!-- table start -->
    <div style="padding-top: 30px;">
      <div class="table-container" >
        <div class="table-content">
          <h4>Images</h4> <hr>
          <table class="table mb-0">
            <thead>
              <tr>
                <th><h4>Title</h4></th>
                <th ><h4>Image</h4></th>
              </tr>
            </thead>
            <tbody>
            {% for img in images %}
              <tr>
                <td>{{ img.image_title }}</td> 
                <td style="text-align:center;">
                  <img src="{{ img.image.url }}" style="width: 80%;">
                </td>   
              </tr>
            {% endfor %}
            </tbody>
          </table> 
        </div>
      </div>
    </div>
    <!-- table end -->
	</div>
	{% include 'webapp/footer.html' %}
</div>
{% endblock content %}
